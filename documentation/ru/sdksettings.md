Описание настроек  необходимых для работы TotalAPI SDK
================================================================
Все конфигурационные параметры SDK задаются в  разделе `<appSettings>` файле `app.exe.config` пользовательского приложения использующего SDK. 

Параметры инициализации SDK
---------------------------------------------------------------------
| Параметр		|Значение|
|------------------------------|---------------|
| serverHost	       		|Адрес хоста и (опционально) порт подключения к сервису биллинга. Если порт не указан - используется порт по умолчанию в зависимости от протокола. По умолчанию - localhost |
| serverProtocol		|Протокол хостинга сервисов (http, https - по умолчанию). Для возможности подключения к сервисам по HTTP-протоколу, необходимо зарегистрировать и замапить на указанный порт сертификат. |
| apiKey			|Значение ApiKey клиента. Если не указано - можно установить программно свойство TotalApiAuth.ApiKey ДО инициализации MefBootstrapper'a. |
| appKey			|Значение AppKey клиента. Если не указано - можно установить программно свойство TotalApiAuth.AppKey ДО инициализации MefBootstrapper'a. если установлено одновременно оба значения apiKey и appKey - значение appKey игнорируется.|
|isDebugMode 		| Признак того, что приложение запущено в отладочном режиме. Применимо только для Web-приложения. true - Debug конфигураця, false - не Debug конфигурация|
|modulesFolders	| Перечень каталогов, разделённых точкой с запятой, откуда следует загружать сборки программных модулей. Позволяет использовать относительную адресацию, относительно исполнимого файла приложения. Поддерживается рекурсивная загрузка из подкаталогов указанных каталогов. Модули из каталога приложения будут загружены в любом случае. Загружены будут только модули с именем вида TotalApi.*.dll. По умолчанию - Modules|
|logThreadEnabled	| Управление очередью логирования. true - все сообщения логгера попадают в очередь, которая обрабатывается одним отдельным потоком. false - без очереди (может существенно замедлить работу программы). По умолчанию - true|

Параметры для управления протоколированием приложения
--------------------------------------------------------------------------------------------------------
Данные настройки влияют на вывод информации передаваемой через интерфейс ILogger. По умолчанию приложение сконфигурировано так,что в качестве обработчика протоколирования уже подключен класс FileLogger, который управляется этими командами.

| Параметр 			|Значение|
|------------------------------------|---------------|
|totalapi.log.file 		| Имя файла протокола. Если полный путь не задан - он расширяется относительно каталога запуска программы. Если указано имя CON - вывод будет вестись не в файл, а в консоль. Поддерживаются макроподстановки, используемые в методе FileSystemExtension.ExpandPath.|
|totalapi.log.level 	        | Битовая маска, задающая уровень протоколирования: x01 - информационные сообщения, x02 - предупреждения, x04 - ошибки. По умолчанию x07|
|totalapi.log.append 	| Управление созданием файла лога при старте программы. true - создавать файл протокола заново при старте программы, false - дописывать в существующий. По умолчанию false|
|totalapi.log.console 	| Управление выводом протокола на консоль. true - дублировать вывод лога на консоль, false - логировать только в файл. По умолчанию - false. В DEBUG сборке значение этого параметра по умолчанию равно true.|

Пример 
---------------------------------------------------------------
Для инициализации SDK и подключения к сервисам TotalApi необходимо указать адрес подключения к [серверу биллинга]() TotalApi. 
В файле app.config:  
```xml
    <appSettings>
        <add key="serverProtocol" value="https" />
    	<add key="serverHost" value="svc.totalapi.io:4444" />
        <add key="ApiKey" value="myApiKey" />
        <add key="modulesFolders" value="D:\myModulesFolder" />
        <add key="totalapi.log.file" value="myErrorMsg.txt"/>
        <add key="totalapi.log.level" value="4"/>
        <add key="totalapi.log.console" value="true"/>
    </appSettings>
```
Расширенные параметры протоколирования
----------------------------------------------------------------------------------
Расширенный способ пртоколирования позволяет задавать несколько файлов протокола. В файле app.config требуется добавить описание конфигурационной секции totalapi.log:
```xml
	  <configSections>
		  <section name="totalapi.log" type="TotalApi.Core.Api.FileLoggerConfiguration, TotalApi.Core" />
	  </configSections>  
```
Затем в разделе files конфигурационной секции totalapi.log можно конфигурировать файлы протокола:
```xml
	  <totalapi.log>
              <files>
                  <add file="con" level="7" />
                  <add file="c:\temp\log.txt" console="true" append="true" />
             </files>
      </totalapi.log>
```
**ВАЖНО!**
> Для Web-приложения НЕЛЬЗЯ указывать файл протокола в каталоге или подкаталоге исполняемых файлов приложения.  В этом случае Web-приложение будет постоянно перезагружаться при попытке записи в протокол.

